# Document Conversion Service 环境配置示例
# 复制此文件为 .env 并修改相应配置

# =============================================================================
# S3/MinIO 存储配置 (必需)
# =============================================================================

# S3服务端点地址
S3_ENDPOINT=http://your-minio-server:9000

# S3访问密钥
S3_ACCESS_KEY=your-access-key

# S3密钥
S3_SECRET_KEY=your-secret-key

# S3区域
S3_REGION=us-east-1

# =============================================================================
# 数据库配置 (可选)
# =============================================================================

# 数据库类型: sqlite 或 postgresql
DATABASE_TYPE=sqlite

# SQLite数据库文件路径
DATABASE_URL=sqlite:///./database/document_conversion.db

# PostgreSQL数据库连接 (如果使用PostgreSQL)
# DATABASE_URL=postgresql://username:password@localhost:5432/document_conversion

# =============================================================================
# 服务配置 (可选)
# =============================================================================

# 日志级别: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# 最大并发任务数 (根据GPU内存调整)
MAX_CONCURRENT_TASKS=3

# 服务端口
PORT=8000

# 服务主机
HOST=0.0.0.0

# =============================================================================
# GPU配置 (可选)
# =============================================================================

# 指定使用的GPU设备 (多GPU环境)
# CUDA_VISIBLE_DEVICES=0,1

# GPU内存限制 (MB)
# GPU_MEMORY_LIMIT=8192

# =============================================================================
# 工作空间配置 (可选)
# =============================================================================

# 任务工作空间目录
TASK_WORKSPACE_DIR=/app/task_workspace

# 临时文件目录
TEMP_FILES_DIR=/app/temp_files

# 日志文件目录
LOG_FILES_DIR=/app/log_files

# 数据库文件目录
DATABASE_DIR=/app/database

# =============================================================================
# 任务配置 (可选)
# =============================================================================

# 任务超时时间 (秒)
TASK_TIMEOUT=3600

# 任务重试次数
MAX_RETRY_COUNT=3

# 清理完成任务的工作空间 (true/false)
CLEANUP_COMPLETED_TASKS=true

# 保留工作空间的天数
WORKSPACE_RETENTION_DAYS=7

# =============================================================================
# MinerU配置 (可选)
# =============================================================================

# MinerU模型缓存目录
MINERU_MODEL_CACHE_DIR=/root/.cache/modelscope

# MinerU批处理大小
MINERU_BATCH_SIZE=16

# =============================================================================
# LibreOffice配置 (可选)
# =============================================================================

# LibreOffice可执行文件路径
LIBREOFFICE_PATH=/usr/bin/libreoffice

# LibreOffice超时时间 (秒)
LIBREOFFICE_TIMEOUT=300

# =============================================================================
# 监控配置 (可选)
# =============================================================================

# 启用性能监控 (true/false)
ENABLE_MONITORING=true

# 监控数据保留天数
MONITORING_RETENTION_DAYS=30

# =============================================================================
# 安全配置 (可选)
# =============================================================================

# API密钥 (如果需要API认证)
# API_KEY=your-api-key

# 允许的来源 (CORS)
# ALLOWED_ORIGINS=http://localhost:3000,https://your-frontend.com

# =============================================================================
# 开发配置 (仅开发环境)
# =============================================================================

# 开发模式 (true/false)
# DEBUG=false

# 自动重载 (true/false)
# AUTO_RELOAD=false

# 详细日志 (true/false)
# VERBOSE_LOGGING=false
